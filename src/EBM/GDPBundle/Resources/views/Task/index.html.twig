{% extends "@EBMGDP/bundleLayout.html.twig" %}

{# Titre de l'onglet #}
{% block title %}
    Gestion de projet
{% endblock %}

{# CSS propres � cette page #}
{% block stylesheets %}

{% endblock %}


{# Contenu de la page #}

{% block content_body %}

    <div class="panel">
        <div class="panel-heading">
            <h3 class="panel-title">Task List - {{ project.name|upper }}</h3>
        </div>

        <div class="panel-body">
            <table class="table">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>Titre</th>
                        <th>Status</th>
                        <th>Deadline</th>
                    </tr>
                </thead>
                <tbody>
                    {%  if listTasks is not null %}
                        {% for task in listTasks %}
                            {% if task.status == "IN_PROGRESS" %}
                                {% set class_var = "label label-warning" %}
                            {% elseif task.status == "WAITING_FOR_REVIEW" %}
                                {%  set class_var = "label label-info" %}
                            {% elseif task.status == "VALIDATED" %}
                                {%  set class_var = "label label-success" %}
                            {% elseif task.status == "REJECTED" %}
                                {%  set class_var = "label label-danger" %}
                            {% elseif task.status == "ARCHIVED" %}
                                {%  set class_var = "label label-active" %}
                            {% elseif task.status == "OPENED" %}
                                {%  set class_var = "label label-primary" %}
                            {% endif %}

                            <tr>
                                <th>{{ task.id }}</th>
                                <td class="subject">
                                    <a href="{{ path('ebmgdp_task', {'code':project.code, 'id':task.id}) }}" class="">
                                        {{ task.name }}
                                    </a>
                                </td>
                                <td class="work-status">
                                    <span class="{{ class_var }}">{{ task.status }}</span>
                                </td>
                                <td>{{ task.deadline|date('Y-m-d') }}</td>
                            </tr>
                        {% endfor %}
                    {%  endif %}
                </tbody>
            </table>
        </div>
    </div>

{% endblock %}


{# Scripts propres � cette page #}
{% block scripts %}


{% endblock %}
