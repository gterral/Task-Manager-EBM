
{% extends "@EBMGDP/bundleLayout.html.twig" %}

{# Titre de l'onglet #}
{% block title %}
    Disponibilités
{% endblock %}

{# CSS propres à cette page #}
{% block stylesheets %}
    <link rel="stylesheet" href="{{ asset('dev_materiel_fullcalendar/fullcalendar.css') }}" />

{% endblock %}


{# Contenu de la page #}

{% block content_body %}
    {% if machine != 'none' %}
        <h1 style="text-align: center">{{ machine.nom }}</h1>
        {% for event in events %}
            <p>{{ event.description }}</p>
        {% endfor %}
        <div id="calendar"></div>
    {% else %}
        <h1>Aucune machine séléctionnée...</h1>
    {% endif %}

{% endblock %}


{# Scripts propres à cette page #}
{% block scripts %}
    <script src="{{ asset('dev_materiel_fullcalendar/lib/moment.min.js') }}"></script>
    <script src="{{ asset('dev_materiel_fullcalendar/fullcalendar.js') }}"></script>
    <script src="{{ asset('dev_materiel_fullcalendar/lib/jquery-ui.min.js') }}"></script>

    <script>
        $(document).ready(function() {

            var data = [
                {
                    title: 'All Day Event',
                    start: '2017-02-01'
                },
                {
                    title: 'Long Event',
                    start: '2017-02-07',
                    end: '2017-02-10'
                },
                {
                    id: 999,
                    title: 'Repeating Event',
                    start: '2017-02-09T16:00:00'
                },
                {
                    id: 999,
                    title: 'Repeating Event',
                    start: '2017-02-16T16:00:00'
                },
                {
                    title: 'Conference',
                    start: '2017-02-11',
                    end: '2017-02-13'
                },
                {
                    title: 'Meeting',
                    start: '2017-02-12T10:30:00',
                    end: '2017-02-12T12:30:00'
                },
                {
                    title: 'Lunch',
                    start: '2017-02-12T12:00:00'
                },
                {
                    title: 'Meeting',
                    start: '2017-02-12T14:30:00'
                },
                {
                    title: 'Happy Hour',
                    start: '2017-02-12T17:30:00'
                },
                {
                    title: 'Dinner',
                    start: '2017-02-12T20:00:00'
                },
                {
                    title: 'Birthday Party',
                    start: '2017-02-13T07:00:00'
                },
                {
                    title: 'Click for Google',
                    url: 'http://google.com/',
                    start: '2017-02-28'
                }
            ];

            $('#calendar').fullCalendar({
                header: {
                    left: 'prev,next,today',
                    center: 'title',
                    right: 'month,agendaWeek,agendaDay'
                },
                events: {{  jsonEvents|raw }},


            });


            $('#calendar').fullCalendar('changeView','agendaWeek');


        });
    </script>
{% endblock %}
